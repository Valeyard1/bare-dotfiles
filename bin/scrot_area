#!/bin/bash
# Ref: https://stefanscherer.github.io/how-to-take-screenshots-with-drop-shadow/
# Usage: ./scrot_border <filename>.png
# If no name was mentioned the default is scrot.png
# Change the PATH_SCREENSHOT as you wish

if [ -z $1 ]; then set -- "scrot.png"; fi

echo -e "\nscrot_border: Please select the window/area you would like to\n"\
        "       capture by clicking/selecting the mouse in that window.\n"

PATH_SCREENSHOT=~/Pictures/scrot
scrot -s $PATH_SCREENSHOT/$1 | xclip -selection clipboard -t image/png -i $PATH_SCREENSHOT/$1
convert "$PATH_SCREENSHOT/$1" -trim \( +clone -background grey25 -shadow 80x40+5+30 \) +swap -background transparent -layers merge +repage "$PATH_SCREENSHOT/$1"

notify-send -t 1500 "Copied!\n" "Screenshot copied to clipboard!"
echo -e "Window captured and saved to \"\e[1;32m$PATH_SCREENSHOT/$1\e[0m\"."
exit 0
